<div style="position: relative; width: 100%; height: max(400px, 30vh);">
  <iframe
    id="scubatoolsIframe"
    src="https://scubatools.netlify.app" 
    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;"
    allowfullscreen
    title="Scuba Tools Content"></iframe>
</div>

<script>
  window.addEventListener('message', event => {
    if (event.origin !== 'https://scubatools.netlify.app') {
      console.warn('Message from untrusted origin:', event.origin, '. Expected https://scubatools.netlify.app');
      return;
    }

    if (event.data && event.data.type === 'iframeResize' && typeof event.data.height === 'number') {
      const iframe = document.getElementById('scubatoolsIframe');
      if (iframe) {
        const newHeight = event.data.height + 'px';
        iframe.style.height = newHeight;

        const containerDiv = iframe.parentElement; 
        if (containerDiv) {
             containerDiv.style.height = newHeight;
        }
      }
    }
  });
</script> 